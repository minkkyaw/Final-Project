<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <style>
      .places-container {
        color: rgb(243, 112, 112);
        text-align: center;
        border: grey 2px;
      }
      .place-container {
        padding: 1%;
      }

      .place-container:hover {
        transform: scale(1.2);
      }

      .name {
        color: grey;
      }
      .address {
        color: grey;
      }
    </style>
  </head>
  <body>
    <form action="">
      <input class="file-input" type="file" />
      <input class="photo-upload-btn" type="submit" value="Submit" />
    </form>
  </body>
  <!-- The core Firebase JS SDK is always required and must be listed first -->
  <!-- <script src="https://www.gstatic.com/firebasejs/7.3.0/firebase-app.js"></script> -->
  <script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>

  <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

  <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
      apiKey: "AIzaSyDs-rUpadv-5w_AzmdDUb5e8PDYws8osjQ",
      authDomain: "test-6444f.firebaseapp.com",
      databaseURL: "https://test-6444f.firebaseio.com",
      projectId: "test-6444f",
      storageBucket: "test-6444f.appspot.com",
      messagingSenderId: "642414957945",
      appId: "1:642414957945:web:57edc4853403300c184ba8"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    var metadata = {
      contentType: "image"
    };
    document.querySelector(".photo-upload-btn").addEventListener("click", e => {
      e.preventDefault();
      const photo = document.querySelector(".file-input").files[0];
      const fileName = photo.name;
      const storageRef = firebase.storage().ref("/profiles/" + fileName);
      const uploadTask = storageRef.put(photo, metadata);
      uploadTask.on("state_changed", function(snapshot) {}),
        function(error) {},
        function() {
          alert("success!");
        };
      uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {
        console.log("File available at", downloadURL);
      });
    });
  </script>
</html>
